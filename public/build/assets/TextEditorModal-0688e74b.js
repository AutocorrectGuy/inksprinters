import{j as e,r as c}from"./app-3002185e.js";import{k as d,Q as i}from"./ReactToastify-5aad6694.js";import{a as p}from"./index-6f82823d.js";import{F as x}from"./index.es-7052ac86.js";import m from"./TextEditorOptions-4699223d.js";import u from"./MonacoEditor-558b589f.js";import{a as h}from"./ExcelToTextContext-533cd117.js";const f={position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0,theme:"dark"},b=()=>e.jsx(d,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!0,theme:"dark",style:{zIndex:9999}}),g=b,j=(n,t)=>{try{const o=unescape(encodeURIComponent(n)),s=new Uint8Array(o.length);for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);const l=new Blob([s],{type:`text/plain;charset=${t}`}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`names-list-${t}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(o){console.error("Error during file download:",o)}},C=(n,t)=>{const o=n.lineSpacing==="none"?1:2;return n.textWrap?t.map(s=>s.replace(/[\r\n]+/g," ")).join(`
`.repeat(o)):t.join(`
`.repeat(o))},T=n=>{navigator.clipboard.writeText(n).then(()=>i.success("Text copied to clipboard!")).catch(t=>i.error(`Failed to copy text: 
${t}`,f))},y=({modalRef:n})=>{const{excelText:t,setExcelText:o,inputText:s,setInputText:l,settings:r}=c.useContext(h);c.useEffect(()=>{t&&l(()=>C(r,t))},[t,r.textWrap,r.lineSpacing]);const a=()=>{o(()=>(n.current.close(),null))};return e.jsx(e.Fragment,{children:e.jsxs("dialog",{ref:n,className:"modal",children:[e.jsxs("div",{className:"modal-box text-left max-w-4xl overflow-hidden",children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-4 mt-4 top-1",tabIndex:7,onClick:()=>a(),children:e.jsx(x,{icon:p,className:"w-8 h-8"})})}),e.jsxs("div",{className:"h-full grid grid-cols-7",children:[e.jsx("div",{className:"col-span-2 text-center flex items-center justify-center font-bold pb-4",children:"Text options"}),e.jsx("div",{className:"col-span-5 text-center flex items-center justify-center font-bold pb-4",children:"Text preview"}),e.jsx(m,{handleCopy:()=>T(s),handleDownload:()=>j(s,r.textEncoding)}),e.jsx("div",{className:"flex flex-col grow pl-4 col-span-5 h-hull",children:e.jsx(u,{})})]})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop bg-black bg-opacity-80 min-h-screen",onClick:()=>a(),children:e.jsx("button",{tabIndex:-1,children:"close"})}),e.jsx(g,{})]})})},I=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{g as C,y as T,I as a,f as c};
