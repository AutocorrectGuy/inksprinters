import{r as x,j as n}from"./app-3002185e.js";import{F as b}from"./index.es-7052ac86.js";import{f as y,b as N,c as v}from"./index-6f82823d.js";import{a as f,t as g}from"./ExcelToTextContext-533cd117.js";let m;const k=new Uint8Array(16);function E(){if(!m&&(m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(k)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function S(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}const C=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j={randomUUID:C};function I(e,t,c){if(j.randomUUID&&!t&&!e)return j.randomUUID();e=e||{};const a=e.random||(e.rng||E)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){c=c||0;for(let o=0;o<16;++o)t[c+o]=a[o];return t}return S(a)}const w=({items:e,selectedItem:t,onSelect:c,width:a=100,label:o})=>{var h;x.useState(I());const[p,r]=x.useState(!1),i=x.useRef(null),l=()=>r(!p);return x.useEffect(()=>{const d=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),n.jsxs("div",{ref:i,className:`${o?"flex items-center justify-between bg-base-300 rounded-lg cursor-pointer group":""}`,onClick:l,style:{width:a},children:[o&&n.jsx("div",{className:"px-3 py-2",children:o}),n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsxs("button",{className:"btn text-xs flex items-center justify-center px-3 whitespace-nowrap group-hover:bg-base-100 hover:bg-base-100",children:[n.jsx("p",{className:"pr-1 whitespace-nowrap",children:t}),n.jsx(b,{icon:y,className:"w-3 h-3"})]}),p&&n.jsx("div",{className:"z-10 absolute right-0 shadow-lg shadow-neutral-900 bg-base-200 rounded-md mt-1",style:{width:(h=i.current)==null?void 0:h.offsetWidth},children:n.jsx("ul",{className:"py-2 text-sm",children:e.map((d,u)=>n.jsx("li",{onClick:()=>{c(d),r(!1)},className:"block p-2 hover:bg-base-100",children:d},`tailwindcss-dropdown-item-${u}`))})})]})]})},D=({defaultChecked:e,onChange:t,labelText:c,width:a})=>n.jsx("div",{className:"form-control bg-base-300 rounded-lg px-2 items-center justify-center py-1",style:{width:a},children:c?n.jsxs("label",{className:"label cursor-pointer flex items-center justify-between w-full",children:[n.jsx("div",{className:"label-text text-sm pr-2",children:c}),n.jsx("input",{type:"checkbox",defaultChecked:e,onChange:t,className:"checkbox bg-base-200"})]}):n.jsx("input",{type:"checkbox",defaultChecked:e,onChange:t,className:"checkbox bg-base-200"})}),W=({handleCopy:e,handleDownload:t})=>{const{settings:c,setSettings:a,foreignChars:o}=x.useContext(f),p=()=>a(l=>({...c,textWrap:!l.textWrap})),r=l=>a({...c,lineSpacing:l}),i=l=>a({...c,textEncoding:l});return n.jsxs("div",{className:"flex flex-col justify-between gap-2 text-sm pr-3 max-w-[240px] w-full col-span-2 border-r-2 border-r-base-200",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(D,{defaultChecked:c.textWrap,onChange:p,labelText:"Wrap text",width:"100%"}),n.jsx(w,{label:"Line spacing",items:g.lineSpacing,selectedItem:c.lineSpacing,onSelect:l=>r(l),width:"100%"}),n.jsx(w,{label:"Encoding",items:g.textEncoding,selectedItem:c.textEncoding,onSelect:l=>i(l),width:"100%"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("button",{className:"btn btn-md",tabIndex:5,onClick:e,children:[n.jsx("p",{className:"pr-2",children:"Copy to clipboard"}),n.jsx(b,{icon:N,className:"h-5 w-5 text-gray-400"})]}),Object.keys(o).length?n.jsx("button",{className:"btn btn-md btn-disabled text-gray-300",disabled:!0,children:"Download not available due to foreign characters"}):n.jsxs("button",{className:"btn btn-md",tabIndex:6,onClick:Object.keys(o).length?()=>{}:t,children:[n.jsx("div",{className:"pr-2",children:"Download .txt file"}),n.jsx(b,{icon:v,className:"h-5 w-5 text-gray-400"})]})]})]})};export{W as default};
